<AdminScreen>:
    name: "admin"
    BoxLayout:
        orientation: 'vertical'
        spacing:dp(20)
        canvas.before:
            Color:
                rgba: 0.898, 0.972, 0.905, 1  # E5F8E7 in RGBA
            Rectangle:
                pos: self.pos
                size: self.size

        MDTopAppBar:
            elevation: dp(0)
            md_bg_color:'white'
            BoxLayout:
                orientation: 'horizontal'
                MDLabel:
                    text: "Welcome Admin"
                    theme_text_color: 'Custom'
                    text_color: 0, 0, 0, 1  # Set the text color based on your preference
                    halign: 'left'
                    valign: 'center'
                MDIconButton:
                    icon: "bell"
                    theme_text_color: "Custom"
                    text_color: 0.898, 0.972, 0.905, 1   # Set the text color based on your preference
                    on_release: app.show_notifications()  # Bind to your method to show notifications


        ScrollView:
            BoxLayout:
                orientation: 'vertical'
                spacing: dp(10)
                padding: dp(10)
                size_hint_y: 1

                MDCard:
                    size_hint: 1, None
                    height:dp(180)
                    radius:dp(25)
                    elevation:dp(0.95)
                    padding: dp(20)
                    on_release: app.root.current = "scan_qr"
                    MDLabel:
                        text:"Scan QR"
                        halign:"center"

                MDCard:
                    size_hint: 1, None
                    height:dp(50)
                    radius:dp(25)
                    elevation:dp(0.95)
                    padding: dp(20)
                    on_release: app.root.current = "view_registered_vehicles"
                    MDLabel:
                        text:"Registered Vehicles"
                        halign:"center"

                MDCard:
                    size_hint: 1, None
                    height:dp(50)
                    radius:dp(25)
                    elevation:dp(0.95)
                    padding: dp(20)
                    on_release: app.root.current = "register_vehicle"
                    MDLabel:
                        text:"Register Vehicles"
                        halign:"center"

                MDCard:
                    size_hint: 1, None
                    height:dp(50)
                    radius:dp(25)
                    elevation:dp(0.95)
                    padding: dp(20)
                    on_release: app.root.current = "register_user"
                    MDLabel:
                        text:"Register User"
                        halign:"center"

                MDCard:
                    size_hint: 1, None
                    height:dp(50)
                    radius:dp(25)
                    elevation:dp(0.95)
                    padding: dp(20)
                    on_release: app.root.current = "view_personnel"
                    MDLabel:
                        text:"Personnel"
                        halign:"center"

                MDCard:
                    size_hint: 1, None
                    height:dp(50)
                    radius:dp(25)
                    elevation:dp(0.95)
                    padding: dp(20)
                    on_release: app.root.current = "view_stolen_vehicles"
                    MDLabel:
                        text:"Stolen Vehicles"
                        halign:"center"

                MDCard:
                    size_hint: 1, None
                    height:dp(50)
                    radius:dp(25)
                    elevation:dp(0.95)
                    padding: dp(20)
                    on_release: app.root.current = "register_vehicle"
                    MDLabel:
                        text:"Report Stolen Vehicles"
                        halign:"center"

<ScanQRScreen>:
    name: "scan_qr"
    BoxLayout:
        orientation: 'vertical'
        #Camera:
            #id: camera
            #resolution: (640, 480)
            #play: True
        MDRaisedButton:
            text: "Scan"
            pos_hint: {"center_x": 0.5, "center_y": 0.05}
            on_release: root.scan_qr_code()

<RegisterVehicleScreen>:
    name: "register_vehicle"
    BoxLayout:
        orientation: 'vertical'
        MDTextField:
            id: car_make
            hint_text: "Car Make"
            helper_text: "Enter the make of the car"
            helper_text_mode: "on_focus"
        MDTextField:
            id: car_model
            hint_text: "Car Model"
            helper_text: "Enter the model of the car"
            helper_text_mode: "on_focus"
        MDTextField:
            id: plate_number
            hint_text: "Plate Number"
            helper_text: "Enter the license plate number"
            helper_text_mode: "on_focus"
        MDRaisedButton:
            text: "Upload Car Image"
            pos_hint: {"center_x": 0.5, "center_y": 0.05}
            on_release: root.file_manager_open()
        MDRaisedButton:
            text: "Register Vehicle"
            pos_hint: {"center_x": 0.5, "center_y": 0.05}
            on_release: root.register_vehicle()
            
            
            
<ViewRegisteredVehiclesScreen>:
    name: "view_registered_vehicles"
    BoxLayout:
        orientation: 'vertical'
        ScrollView:
            MDList:
                id: registered_vehicles_list

    MDRaisedButton:
        text: "Back"
        pos_hint: {"center_x": 0.5, "center_y": 0.05}
        on_release: root.manager.current = "admin"


<RegisterPersonnel_UserScreen>:
    name: "register_user"
    ScrollView:
        BoxLayout:
            orientation: 'vertical'
            spacing: dp(20)
            padding: dp(20)

            MDTextField:
                id: name_field
                hint_text: "Name"
                required: True

            MDTextField:
                id: id_field
                hint_text: "ID"
                required: True

            MDTextField:
                id: username_field
                hint_text: "Username"
                required: True

            MDTextField:
                id: password_field
                hint_text: "Password"
                required: True
                password: True

            MDTextField:
                id: confirm_password_field
                hint_text: "Confirm Password"
                required: True
                password: True

            MDCheckbox:
                id: security_checkbox
                size_hint: None, None
                size: dp(48), dp(48)
                active: False
                pos_hint: {'center_x': 0.5}

            MDLabel:
                text: "Security Status"
                theme_text_color: "Primary"
                halign: 'left'

            MDRaisedButton:
                text: "Register"
                on_release: root.register_user()


<ViewRegisteredPersonnelScreen>:
    name: "view_personnel"
    BoxLayout:
        orientation: 'vertical'
        spacing: dp(20)
        padding: dp(20)

        Widget:
            size_hint_y: None
            height: dp(80)

        ScrollView:
            GridLayout:
                cols: 1
                spacing: dp(20)
                size_hint_y: None
                height: self.minimum_height
                id: personnel_grid  # Reference to the GridLayout for dynamically adding cards


<ViewStolenVehiclesScreen>:
    name: "view_stolen_vehicles"

    BoxLayout:
        orientation: 'vertical'
        spacing: dp(20)
        padding: dp(20)

        Widget:
            size_hint_y: None
            height: dp(80)

        ScrollView:
            GridLayout:
                cols: 1
                spacing: dp(20)
                size_hint_y: None
                height: self.minimum_height
                id: stolen_vehicles_grid

<ReportStolenVehicleScreen>:
    name: "report_theft"

    BoxLayout:
        orientation: 'vertical'
        spacing: dp(20)
        padding: dp(20)

        Widget:
            size_hint_y: None
            height: dp(80)

        MDTextField:
            id: make_input
            hint_text: "Vehicle Make"
            size_hint_x: None
            width: dp(200)
            mode: "rectangle"

        MDTextField:
            id: model_input
            hint_text: "Vehicle Model"
            size_hint_x: None
            width: dp(200)
            mode: "rectangle"

        MDTextField:
            id: plate_number_input
            hint_text: "Plate Number"
            size_hint_x: None
            width: dp(200)
            mode: "rectangle"

        MDRaisedButton:
            text: "Report Theft"
            on_release: root.report_theft()


<SecurityScreen>:
    name: "security"
    MDLabel:
        text: "Security Section"
        halign: "center"
        valign: "center"

<UserScreen>:
    name: "user"
    MDLabel:
        text: "User Section"
        halign: "center"
        valign: "center"
